# Лабораторная работа №2
##  Условие задания лабораторной работы №1
### Вариант 80
Создать файл sh и bat, который выполняет следующее: 
На вход пакетному файлу приходит чисто(как параметр пакетного файла). Найти активный процесс в OC, PID которого нацело поделится на число, указанное в параметре. Ответ вывести в консоль в формате "имя_процесса PID". Если такой процесс не нашелся, вывести сообщение "процесс не найден" в консоль и завершить выполнение через 3 секунды.
## Алгоритм .bat.
![image](https://github.com/iis-32170x/RPIIS/assets/145581766/0c0eb02d-9e94-487e-9ac2-852587400fd0)
1.Изменение кодовой страницы(@chcp 1251).
2. Отключает вывод комманд в консоли(@echo off) 

3. Задаем число(параметр) как аргумент(set /p divisor=Введите число, на которое необходимо разделить PID:). 
4. создаем текстовый файл tasks.txt и переносим туда информацию из tasklist(tasklist /nh /fo csv > tasks.txt). 
5. setlocal enabledelayedexpansion означает, что все переменные в batch-скрипте локальны и после выхода из скрипта они обнулятся(setlocal).  enabledelayexpansion означает возможность использовать восклицательные знаки (!variable!) для раскрытия значения переменной. 
6. задаем переменную count(set /a count=0). 
7. Строки 7-17 это цикл, выполнящий проверку деления pid на аргумент, указанный пользователем, и, если деление pid на число выполняется без остатка, то выводит в консоли процесс(process=) и pid этого процесса(pid=). 
8. 18-19 timeout на 30 секунд для просмотра результата. удаляем текстовый файл del tasks.txt. 
8. в 20 строке оператор if проверяет, что если count равен 1, то процессы были не найдены(count может быть равен 1, т.к. pid процесса system имеет значение 0 и , следовательно, делится на любой аргумент) и программа закрывается через 3 секунды. 
### Пример запуска и результат
![image](https://github.com/iis-32170x/RPIIS/assets/145581766/68297753-13a9-4efd-acdd-f2b9dbd27a35)
![image](https://github.com/iis-32170x/RPIIS/assets/145581766/7ba6603a-9cac-4cd9-97ba-1262a034207c)

## Алгоритм .sh
![image](https://github.com/iis-32170x/RPIIS/assets/145581766/8954a438-3e39-4cb2-b01c-5525d7f9e195)

1. задаем аргумент, на который производится деление(read divisor).
2. создаем переменную pid_list(проверяем,является ли значение в столбце pid делителем divisor($1 % divisor == 0) Если условие выполняется, то выводит имя процессов из comm  и pid его процесс. Результат проверок сохраняется в переменную pid_list.
3. Выводим процессы и их pid, удовлетворяющие условию(6-8), если же нету процессов, то программа завершается через 3 секунды.


### Пример запуска и результат
![image](https://github.com/iis-32170x/RPIIS/assets/145581766/8a828f04-1aab-44b9-a0fc-b0261b0de5e0)
![image](https://github.com/iis-32170x/RPIIS/assets/145581766/1efcb865-d054-43c0-8c3f-a77f26a59f4b)


