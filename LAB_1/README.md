# Лабораторная работа №1 по предмету 'Представление и обработка информации в интеллектуальных системах'

__Задача__: _в рамках первой лабораторной работы требовалось разработать и скомпилировать программу, которая выполняет задачу, указанную в вашем варианте, и создать исполняемый файл этой программы._

__Вариант 9__: _Создать файл sh и bat, который выполняет следующее:
На вход файлу подается относительный или абсолютный путь к папке, атрибут прав доступа к файлу (как параметр пакетного файла). Если такой папки нет, то писать “Данной папки нет” и завершить выполнение программы. Если такая папка есть, то в ней и ее подкаталогах найти все файлы с заданным атрибутом доступа и их имена записать в отдельный файл result.txt._

# Выполнение задачи

## Batch файл

### Код программы
```batch
@echo off

if "%~2"=="" (
    echo Usage: %~nx0 ^<directory_path^> ^<attribute^>
    exit /b 1
)

set "DIR=%~1"
set "ATTR=%~2"

if not exist "%DIR%" (
    echo Данной папки нет
    exit /b 1
)

dir /s /b "%DIR%" | for /f "delims=" %%A in ('findstr /m /i /c:%ATTR%') do echo %%A >> result.txt

echo Файлы с атрибутами %ATTR% сохранены в result.txt
```

### Примеры работы программы
![2024-09-03 15 32 36](https://github.com/user-attachments/assets/f3b2e2f7-114f-451f-a185-adbb6b7ebe2a)
![2024-09-03 15 35 35](https://github.com/user-attachments/assets/df1c9c45-e01f-463b-9c73-67e050d5449d)
![2024-09-03 15 35 39](https://github.com/user-attachments/assets/4df973ac-f52b-4abc-aeca-a7e0eab53281)

### Принцип работы 
Скрипт принимает два аргумента: путь к директории и атрибут. Скрипт проверяет существование папки, а затем ищет все файлы с заданными атрибутами, записывая их в файл result.txt.

### Пояснение кода
	•	@echo off: Отключает вывод команд скрипта на экран, чтобы при выполнении скрипта отображались только результаты команд, а не сами команды.
 	•	if "%~2"=="": Эта строка проверяет, был ли передан второй аргумент в командную строку (второй параметр — атрибут файла).
	  •	%~2: Это второй аргумент, переданный скрипту.
	  •	Если второго аргумента нет, выполняется блок команд в скобках:
	    •	echo Usage: %~nx0 <directory_path> <attribute>: Выводит сообщение о правильном использовании скрипта.
	      •	%~nx0: Возвращает имя скрипта, который был запущен.
	    •	exit /b 1: Завершает выполнение скрипта с кодом возврата 1 (ошибка).
	•	set "DIR=%~1" и set "ATTR=%~2": Сохраняют аргументы, переданные скрипту, в переменные:
	  •	DIR=%~1: Первый аргумент (путь к папке).
	  •	ATTR=%~2: Второй аргумент (атрибут файла).
	•	if not exist "%DIR%": Эта команда проверяет, существует ли папка, указанная в переменной DIR.
	  •	not exist: Если указанная папка не существует.
	  •	Если папки нет, выполняется блок команд в скобках:
	    •	echo Данной папки нет: Выводит сообщение о том, что папка не найдена.
	    •	exit /b 1: Завершает выполнение скрипта с кодом 1 (ошибка).
	•	dir /s /b "%DIR%": Команда dir используется для вывода списка файлов.
	  •	/s: Поиск файлов в указанной директории и её поддиректориях.
	  •	/b: Выводит только имена файлов (без дополнительных сведений).
	  •	"%DIR%": Директория, в которой выполняется поиск файлов (используем значение переменной DIR).
	•	|: Этот символ (pipe) передает результат выполнения команды dir следующей команде.
	•	for /f "delims=" %%A in ('findstr /m /i /c:%ATTR%') do echo %%A >> result.txt: Цикл, который обрабатывает вывод команды dir.
	  •	for /f "delims=" %%A in (...) do ...: Проходит по каждой строке результата команды, указанной в скобках.
	  •	delims=: Указывает, что разделителей (по умолчанию пробелы) нет, и вся строка обрабатывается как одно целое.
	  •	'findstr /m /i /c:%ATTR%': Команда findstr ищет строки, содержащие указанный атрибут:
	    •	/m: Выводит только имена файлов, содержащих совпадения.
	    •	/i: Игнорирует регистр при поиске.
	    •	/c:%ATTR%: Ищет строки, содержащие текст, соответствующий значению переменной ATTR.
	  •	echo %%A >> result.txt: Добавляет имя файла, найденного командой findstr, в файл result.txt.

## Bash файл

### Код программы
```bash
#!/bin/bash

if [ $# -ne 2 ]; then
    echo "Usage: $0 <directory_path> <permissions>"
    exit 1
fi

DIR=$1
PERMS=$2

if [ ! -d "$DIR" ]; then
    echo "Данной папки нет"
    exit 1
fi

find "$DIR" -type f -perm "$PERMS" > result.txt

echo "Файлы с правами доступа $PERMS сохранены в result.txt"
```

### Примеры работы программы
<img width="451" alt="Снимок экрана 2024-09-03 в 15 57 24" src="https://github.com/user-attachments/assets/36e68802-a518-4807-abef-7551b002a376">
<img width="751" alt="Снимок экрана 2024-09-03 в 15 57 43" src="https://github.com/user-attachments/assets/29adfb75-1727-417e-bef9-14f05d94ab92">
<img width="293" alt="Снимок экрана 2024-09-03 в 15 57 52" src="https://github.com/user-attachments/assets/020c274b-1573-409e-b7b9-42c71dd9d9b2">

### Принцип работы 
Скрипт принимает два аргумента: путь к директории и права доступа. Скрипт проверяет существование папки, а затем ищет все файлы с заданными правами доступа, записывая их в файл result.txt.

### Пояснение кода
	•	#!/bin/bash
	  •	Указывает, что скрипт должен быть выполнен с помощью интерпретатора Bash, расположенного по пути /bin/bash.
	•	if [ $# -ne 2 ]; then
	  •	Проверяет, что количество аргументов, переданных скрипту, не равно 2. "$#" возвращает количество аргументов. -ne означает “не равно”.
	•	echo "Usage: $0 <directory_path> <permissions>"
	  •	Выводит сообщение о правильном использовании скрипта, если передано неверное количество аргументов. $0 представляет имя скрипта.
	•	exit 1
	  •	Завершает выполнение скрипта с кодом выхода 1, что обычно сигнализирует об ошибке.
	•	fi
	  •	Закрывает блок условия if.
	•	DIR=$1
	  •	Присваивает значение первого аргумента переменной DIR. $1 представляет первый аргумент.
	•	PERMS=$2
	    •	Присваивает значение второго аргумента переменной PERMS. $2 представляет второй аргумент.
	•	if [ ! -d "$DIR" ]; then
	  •	Проверяет, существует ли директория, указанная в переменной DIR. -d проверяет, является ли путь директорией. ! означает “не”, то есть проверяется, что путь не является директорией.
	•	echo "Данной папки нет"
	  •	Выводит сообщение о том, что указанная директория не существует, если условие истинно.
	•	    exit 1
	  •	Завершает выполнение скрипта с кодом выхода 1, если указанная директория не существует.
	•	fi
	  •	Закрывает блок условия if.
	•	find "$DIR" -type f -perm "$PERMS" > result.txt
  	•	Выполняет команду find, чтобы найти все файлы (-type f) в директории, указанной в DIR, которые имеют права доступа, указанные в PERMS. Результаты поиска записываются в файл result.txt.
	•	echo "Файлы с правами доступа $PERMS сохранены в result.txt"
	  •	Выводит сообщение о том, что файлы с указанными правами доступа были найдены и сохранены в result.txt.
